# Домашнее задание к занятию "`Название занятия`" - `Фамилия и имя студента`


### Инструкция по выполнению домашнего задания

   1. Сделайте `fork` данного репозитория к себе в Github и переименуйте его по названию или номеру занятия, например, https://github.com/имя-вашего-репозитория/git-hw или  https://github.com/имя-вашего-репозитория/7-1-ansible-hw).
   2. Выполните клонирование данного репозитория к себе на ПК с помощью команды `git clone`.
   3. Выполните домашнее задание и заполните у себя локально этот файл README.md:
      - впишите вверху название занятия и вашу фамилию и имя
      - в каждом задании добавьте решение в требуемом виде (текст/код/скриншоты/ссылка)
      - для корректного добавления скриншотов воспользуйтесь [инструкцией "Как вставить скриншот в шаблон с решением](https://github.com/netology-code/sys-pattern-homework/blob/main/screen-instruction.md)
      - при оформлении используйте возможности языка разметки md (коротко об этом можно посмотреть в [инструкции  по MarkDown](https://github.com/netology-code/sys-pattern-homework/blob/main/md-instruction.md))
   4. После завершения работы над домашним заданием сделайте коммит (`git commit -m "comment"`) и отправьте его на Github (`git push origin`);
   5. Для проверки домашнего задания преподавателем в личном кабинете прикрепите и отправьте ссылку на решение в виде md-файла в вашем Github.
   6. Любые вопросы по выполнению заданий спрашивайте в чате учебной группы и/или в разделе “Вопросы по заданию” в личном кабинете.
   
Желаем успехов в выполнении домашнего задания!
   
### Дополнительные материалы, которые могут быть полезны для выполнения задания

1. [Руководство по оформлению Markdown файлов](https://gist.github.com/Jekins/2bf2d0638163f1294637#Code)

---

### Задание 1

СУБД

Кейс

Крупная строительная компания, которая также занимается проектированием и девелопментом, решила создать правильную архитектуру для работы с данными. Ниже представлены задачи, которые необходимо решить для каждой предметной области.


Какие типы СУБД, на ваш взгляд, лучше всего подойдут для решения этих задач и почему?


1.1. Бюджетирование проектов с дальнейшим формированием финансовых аналитических отчётов и прогнозирования рисков. СУБД должна гарантировать целостность и чёткую структуру данных.


1.1.* Хеширование стало занимать длительно время, какое API можно использовать для ускорения работы?


1.2. Под каждый девелоперский проект создаётся отдельный лендинг, и все данные по лидам стекаются в CRM к маркетологам и менеджерам по продажам. Какой тип СУБД лучше использовать для лендингов и для CRM? СУБД должны быть гибкими и быстрыми.


1.2.* Можно ли эту задачу закрыть одной СУБД? И если да, то какой именно СУБД и какой реализацией?


1.3. Отдел контроля качества решил создать базу по корпоративным нормам и правилам, обучающему материалу и так далее, сформированную согласно структуре компании. СУБД должна иметь простую и понятную структуру.


1.3.* Можно ли под эту задачу использовать уже существующую СУБД из задач выше и если да, то как лучше это реализовать?


1.4. Департамент логистики нуждается в решении задач по быстрому формированию маршрутов доставки материалов по объектам и распределению курьеров по маршрутам с доставкой документов. СУБД должна уметь быстро работать со связями.


1.4.* Можно ли к этой СУБД подключить отдел закупок или для них лучше сформировать свою СУБД в связке с СУБД логистов?


1.5.* Можно ли все перечисленные выше задачи решить, используя одну СУБД? Если да, то какую именно?


Приведите ответ в свободной форме.


Решение 1


1.1. Для бюджетирования проектов, формирования финансовых отчётов и прогнозирования рисков, лучше всего подойдут реляционные СУБД, такие как PostgreSQL или Oracle. Они гарантируют целостность данных и имеют чёткую структуру.


1.2. Для отдельных лендингов и CRM можно использовать NoSQL СУБД, например MongoDB. Они гибкие и быстрые в работе с большими объемами данных.


1.3. Для базы по корпоративным нормам и правилам также можно воспользоваться реляционными СУБД, сохраняя данные в отдельных таблицах с возможностью использования уже существующих решений.


1.4. Для департамента логистики, где нужно быстро формировать маршруты доставки, можно использовать графовые СУБД, например Neo4j. Они хорошо подходят для работы со связями между данными.


Многие из этих задач могут быть решены разными типами СУБД, но иногда лучше использовать несколько СУБД для оптимальной работы каждого подразделения компании. Например, для интеграции данных между отделами лучше всего использовать специализированные инструменты, такие как ETL-системы или облачные платформы для интеграции данных.


Задание 2

Транзакции


2.1. Пользователь пополняет баланс счёта телефона, распишите пошагово, какие действия должны произойти для того, чтобы транзакция завершилась успешно. Ориентируйтесь на шесть действий.


2.1.* Какие действия должны произойти, если пополнение счёта телефона происходило бы через автоплатёж?


Приведите ответ в свободной форме.


Решение 2

Пополнение счета телефона:


1. Инициация транзакции: Пользователь инициирует запрос на пополнение счета телефона через мобильное приложение или веб-интерфейс.


2. Проверка доступности средств: Система проверяет доступность необходимой суммы на балансе пользователя.


3. Резервирование средств: На момент проведения транзакции система резервирует сумму средств для последующего списания с баланса пользователя.


4. Совершение транзакции: Проведение операции пополнения счета телефона с уменьшением резервированных средств и зачислением средств на баланс.


5. Завершение транзакции: Пользователю отображается уведомление об успешном пополнении счета.


6. Фиксация транзакции: В системе регистрируется факт проведенной транзакции для последующего анализа и ведения учета.


Пополнение счета через автоплатеж:


1. Регистрация автоплатежа: Пользователь подключает автоплатеж через личный кабинет или обращается в службу поддержки.


2. Установка условий автоплатежа: Пользователь указывает сумму пополнения, периодичность и источник средств для автоматического пополнения счета.


3. Активация автоплатежа: Система активирует автоплатеж и устанавливает график автоматических транзакций в соответствии с указанными условиями.


4. Выполнение транзакции: В установленное время система автоматически списывает указанную сумму с источника средств и пополняет счет телефона.


5. Уведомление о выполнении: Пользователь получает уведомление о проведенной автоматической транзакции.


6. Логирование операции: В системе регистрируется факт автоматического пополнения счета для последующего контроля и анализа.


Задание 3

SQL vs NoSQL


3.1. Напишите пять преимуществ SQL-систем по отношению к NoSQL.


3.1.* Какие, на ваш взгляд, преимущества у NewSQL систем перед SQL и NoSQL.


Приведите ответ в свободной форме.


Решение 3

Преимущества SQL-систем по отношению к NoSQL:


1. Структурированные данные: SQL базы данных предоставляют жесткую структуру данных, что облегчает работу с таблицами, связями и запросами.


2. Язык запросов: SQL имеет мощный язык запросов (SQL), который позволяет эффективно извлекать и обрабатывать данные.


3. Транзакционная надежность: SQL базы данных обеспечивают транзакционную целостность данных, гарантируя их целостность и безопасность.


4. Гибкость запросов: SQL позволяет использовать различные типы соединений, агрегатные функции, условия и т.д., что делает его гибким инструментом для работы с данными.


5. Поддержка индексов: SQL базы данных обладают мощной системой индексации, что ускоряет выполнение запросов и повышает производительность.


Преимущества NewSQL перед SQL и NoSQL:


На мой взгляд, NewSQL системы предлагают следующие преимущества:


1. Горизонтальное масштабирование: NewSQL системы позволяют масштабировать горизонтально, обеспечивая высокую производительность при обработке больших объемов данных.


2. Высокая доступность: NewSQL системы обеспечивают высокую доступность данных благодаря распределенным архитектурам и механизмам репликации.


3. Соответствие ACID: NewSQL системы сохраняют принципы ACID (атомарность, согласованность, изолированность, долговечность), обеспечивая надежность и целостность данных.


4. Совместимость с SQL: Несмотря на новизну подхода, NewSQL системы часто сохраняют совместимость с SQL, что упрощает процесс перехода с традиционных SQL баз данных.


5. Высокая производительность: NewSQL системы обеспечивают высокую производительность при выполнении сложных запросов и операций на больших объемах данных, что делает их привлекательными для масштабируемых проектов.


Задание 4

Кластеры


Необходимо производить большое количество вычислений при работе с огромным количеством данных, под эту задачу выделено 1000 машин.


На основе какого критерия будете выбирать тип СУБД и какая модель распределённых вычислений здесь справится лучше всего и почему?


Приведите ответ в свободной форме.


Решение 4


При выборе типа СУБД для работы с кластером из 1000 машин необходимо учитывать несколько критериев. Один из ключевых критериев - способность СУБД масштабироваться горизонтально и эффективно обрабатывать большие объемы данных. 


При таких требованиях к распределенной обработке данных, модель MapReduce, используемая в системе Apache Hadoop, может оказаться наиболее подходящей. MapReduce разделяет задачу на небольшие подзадачи, которые исполняются параллельно на узлах кластера, а затем результаты объединяются. Это позволяет эффективно обрабатывать огромные объемы данных на большом количестве машин.


Другая модель, которая может быть эффективной для работы с таким масштабом, - модель распределенных вычислений Spark. Spark обладает высокоуровневыми абстракциями, способными обеспечить высокую скорость обработки данных и поддерживать разнообразные типы операций.


Наконец, при выборе типа СУБД также стоит учитывать требования к целостности данных, производительности запросов и возможности масштабирования. Например, NewSQL базы данных могут обеспечить сбалансированное сочетание масштабируемости и производительности, сохраняя при этом ACID-совместимость.


Таким образом, для работы с кластером из 1000 машин рекомендуется выбрать СУБД, совместимую с требованиями горизонтального масштабирования и эффективной обработки данных, а также модель распределенных вычислений, способную обеспечить параллельное выполнение задач на множестве узлов кластера с минимальной задержкой и высокой производительностью.






